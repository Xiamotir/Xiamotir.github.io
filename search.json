[{"title":"test","url":"/2019/09/11/test/","content":"![在这里插入图片描述](https://img-blog.csdnimg.cn/20190911220523292.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyOTY3MDA4,size_1,color_FFFFFF,t_70)\n这就是用来测试的！！！\n<!-- more -->\n啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊","tags":["hello","hexo","markdown"]},{"title":"test","url":"/2019/09/11/智能车/","content":"\n<!-- more -->\n@[TOC]\n# 硬件准备\n\n## 1、LC震荡电路（电感值采集）\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20190921152529690.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyOTY3MDA4,size_16,color_FFFFFF,t_70)\nLC 振荡电路，是指用电感 L、电容 C 组成选频网络的振荡电路，**用于产生高频正弦波信号**\n谐振电路的振荡周期与电容电感的关系：\n                       T=2π√LC\n\n\n\n赛道信号源是20KHz的正弦波信号，这时我们就需要计算并选定好匹配的电感电容值，将电感电容并联焊接好，用示波器接上两端将电感放到赛道上观察波形是否为标准的20KHz正弦波，若不正常或波形失真严重，检查电感电容是否选取正确或无损坏，正常情况下都是没有问题的。\n## 2、主控和驱动制作\n分配一个专人制作硬件\n\n\n - **主控**\n要求不大，像蓝牙，oled，核心板底座（没必要全焊，全焊的话核心板不好插，用到哪些引脚就焊那些部分就行），尽量把运放模块也画到主控上，先焊电源部分，电源测试正常后再焊其他原器件\n\n - **驱动**\n 可选用btn和mos管两种方案，btn电路简单，mos管驱动能力强。我们一开始就是用btn驱动，但后来由于改装，车的负载增大，跑了一圈后驱动就因为过热保护了，后来换了mos管，就没有出现过热保护了。\n\n## 3、车体搭建\n\n 1. 将购买的零件一一安装好，车的前瞻碳杆用水平仪确保与地面平行，所有支架必须牢固，不允许有松动，只有你感觉支架和车模是一个整体了才是安装好了\n 2. 将电感两端与信号线焊好，信号线采取双绞缠绕提高抗干扰能力，电感可采用两外横，两内八分布，也可采用其他。基本上是外面两个判断中线，里面两个处理直角，圆环等特殊路段。记住电感按车体中轴线对称分布安装，不是按安装杆对称！！！\n 3. 尽量加一个防撞杆或者海绵缓冲，撞坏了再修好麻烦\n# 软件准备\n## 1、编译环境搭建\n安装好IAR并配置好编译环境\n具体过程参考网上众多教程，，，，，，\n## 2、工程模板搭建（山外库）\n为了使得工程架构更加清晰，因此我们需要对工程文件夹进行如下规定：\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20190921164358797.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyOTY3MDA4,size_16,color_FFFFFF,t_70)\n我们一般只需要在 APP文件夹中编写用户程序就可以了\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20190921164629875.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyOTY3MDA4,size_16,color_FFFFFF,t_70)\n## 3、程序编写（山外库）\n 1. 我们将所有的处理函数都放到中断中执行，而不是传统的放在while大循环中，这样做的目的是为了保证整体的时序性，例如设置定时器每5ms产生一次中断，我们将电感采集处理函数放入中断服务函数当中，这样车子每5ms就可以采集处理一次信号，而while中却无法保证5ms的时序。（**记得在中断函数中加上电平翻转函数接上示波器看频率对不对防止中断溢出！！！！**）\n 2. 所有的io定义配置都在.config文件中，这个文件必须多多注意\n 3. 实时保存，多备份\n# 建议\n","tags":["nxp","智能车","建议"]}]